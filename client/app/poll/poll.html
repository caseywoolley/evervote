<div ng-include="'components/navbar/navbar.html'"></div>

<div ng-controller="PollCtrl">
    
    <div class="vote-form">
      <div class="container">
        <h1>{{ poll.name }}</h1>
        <form novalidate>
            <ul ng-show="isLoggedIn()" ng-repeat="option in poll.options track by $index">
                <li ng:class="{true:'poll-options selected', false:'poll-options'}[$index==userSelection]" ng-click="castVote($index)">{{option}}</li>
            </ul>
        </form>
      </div>
    </div>
    <br>
    
    <div class="container">
  
       <script src='assets/js/Chart.min.js'></script>
        <div class="poll-chart"></div>
        <a href="poll/{{poll._id}}" tooltip="poll/{{poll._id}}">{{poll.name}}</a>
        <div class="pull-info"><span class="vote-count"> {{ voteCount(poll) || "0" }} Votes</span> - Create {{poll.created | date:"shortDate" }} by {{ (poll.ownerName) || "Unknown" }} </div>
        <input type="button" ng-click="deletePoll(poll)" ng-show="poll.ownerId === user._id" value="Delete"/>
    </div>
    
    <!-- <pre>json = {{poll | json}}</pre> -->
</div>

<div ng-include="'components/footer/footer.html'"></div>